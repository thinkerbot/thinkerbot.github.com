<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: Linebook::Os::Unix</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">Linebook::Os::Unix</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/lib/linebook/os/unix_rb.html">
                lib/linebook/os/unix.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000039">cat</a>&nbsp;&nbsp;
      <a href="#M000040">cd</a>&nbsp;&nbsp;
      <a href="#M000041">chmod</a>&nbsp;&nbsp;
      <a href="#M000042">chown</a>&nbsp;&nbsp;
      <a href="#M000038">close</a>&nbsp;&nbsp;
      <a href="#M000043">cp</a>&nbsp;&nbsp;
      <a href="#M000044">cp_f</a>&nbsp;&nbsp;
      <a href="#M000045">cp_r</a>&nbsp;&nbsp;
      <a href="#M000046">cp_rf</a>&nbsp;&nbsp;
      <a href="#M000047">date</a>&nbsp;&nbsp;
      <a href="#M000048">directory?</a>&nbsp;&nbsp;
      <a href="#M000049">echo</a>&nbsp;&nbsp;
      <a href="#M000050">exists?</a>&nbsp;&nbsp;
      <a href="#M000051">file?</a>&nbsp;&nbsp;
      <a href="#M000052">gsub</a>&nbsp;&nbsp;
      <a href="#M000037">guess_target_name</a>&nbsp;&nbsp;
      <a href="#M000053">ln</a>&nbsp;&nbsp;
      <a href="#M000054">ln_s</a>&nbsp;&nbsp;
      <a href="#M000055">mkdir</a>&nbsp;&nbsp;
      <a href="#M000056">mkdir_p</a>&nbsp;&nbsp;
      <a href="#M000057">mv</a>&nbsp;&nbsp;
      <a href="#M000058">mv_f</a>&nbsp;&nbsp;
      <a href="#M000059">rm</a>&nbsp;&nbsp;
      <a href="#M000060">rm_r</a>&nbsp;&nbsp;
      <a href="#M000061">rm_rf</a>&nbsp;&nbsp;
      <a href="#M000062">section</a>&nbsp;&nbsp;
      <a href="#M000063">sed</a>&nbsp;&nbsp;
      <a href="#M000064">set</a>&nbsp;&nbsp;
      <a href="#M000065">set_date</a>&nbsp;&nbsp;
      <a href="#M000066">shebang</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name"><a href="Posix.html">Posix</a></span>
      </div>
    </div>

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000039" class="method-detail">
        <a name="M000039"></a>

        <div class="method-heading">
          <a href="#M000039" class="method-signature">
          <span class="method-name">cat</span><span class="method-args">(*sources)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Executes &#8216;<a href="Unix.html#M000039">cat</a>&#8217; with the
sources.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000039-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000039-source">
<pre>
    <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 27</span>
27:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cat</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">sources</span>)
28:         <span class="ruby-identifier">execute</span> <span class="ruby-value str">'cat'</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">sources</span>
29:         <span class="ruby-identifier">chain_proxy</span>
30:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000040" class="method-detail">
        <a name="M000040"></a>

        <div class="method-heading">
          <a href="#M000040" class="method-signature">
          <span class="method-name">cd</span><span class="method-args">(dir=nil) {|| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000040-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000040-source">
<pre>
    <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 38</span>
38:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cd</span>(<span class="ruby-identifier">dir</span>=<span class="ruby-keyword kw">nil</span>)
39:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
40:           <span class="ruby-identifier">var</span> = <span class="ruby-identifier">_package_</span>.<span class="ruby-identifier">next_variable_name</span>(<span class="ruby-value str">'cd'</span>)
41:           <span class="ruby-identifier">writeln</span> <span class="ruby-node">%{#{var}=$(pwd)}</span>
42:         <span class="ruby-keyword kw">end</span>
43:       
44:         <span class="ruby-identifier">execute</span> <span class="ruby-value str">&quot;cd&quot;</span>, <span class="ruby-identifier">dir</span>
45:       
46:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
47:           <span class="ruby-keyword kw">yield</span>
48:           <span class="ruby-identifier">execute</span> <span class="ruby-value str">&quot;cd&quot;</span>, <span class="ruby-node">&quot;$#{var}&quot;</span>
49:         <span class="ruby-keyword kw">end</span>
50:         <span class="ruby-identifier">chain_proxy</span>
51:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000041" class="method-detail">
        <a name="M000041"></a>

        <div class="method-heading">
          <a href="#M000041" class="method-signature">
          <span class="method-name">chmod</span><span class="method-args">(mode, target)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Makes a command to <a href="Unix.html#M000041">chmod</a> a file or
directory. Provide the mode as the literal string that should go into the
statement:
</p>
<pre>
  chmod &quot;600&quot; target
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000041-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000041-source">
<pre>
    <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 63</span>
63:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">chmod</span>(<span class="ruby-identifier">mode</span>, <span class="ruby-identifier">target</span>)
64:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mode</span>
65:           <span class="ruby-identifier">execute</span> <span class="ruby-value str">'chmod'</span>, <span class="ruby-identifier">mode</span>, <span class="ruby-identifier">target</span>
66:         <span class="ruby-keyword kw">end</span>
67:         <span class="ruby-identifier">chain_proxy</span>
68:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000042" class="method-detail">
        <a name="M000042"></a>

        <div class="method-heading">
          <a href="#M000042" class="method-signature">
          <span class="method-name">chown</span><span class="method-args">(user, group, target)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Makes a command to <a href="Unix.html#M000042">chown</a> a file or
directory.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000042-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000042-source">
<pre>
    <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 77</span>
77:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">chown</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">group</span>, <span class="ruby-identifier">target</span>)
78:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">user</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">group</span>
79:           <span class="ruby-identifier">execute</span> <span class="ruby-value str">'chown'</span>, <span class="ruby-node">&quot;#{user}:#{group}&quot;</span>, <span class="ruby-identifier">target</span>
80:         <span class="ruby-keyword kw">end</span>
81:         <span class="ruby-identifier">chain_proxy</span>
82:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000038" class="method-detail">
        <a name="M000038"></a>

        <div class="method-heading">
          <a href="#M000038" class="method-signature">
          <span class="method-name">close</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000038-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000038-source">
<pre>
    <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 16</span>
16:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">close</span>
17:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">closed?</span> 
18:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@shebang</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">false</span>
19:             <span class="ruby-identifier">section</span> <span class="ruby-node">&quot; (#{target_name}) &quot;</span>
20:           <span class="ruby-keyword kw">end</span>
21:         <span class="ruby-keyword kw">end</span>
22:         
23:         <span class="ruby-keyword kw">super</span>
24:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000043" class="method-detail">
        <a name="M000043"></a>

        <div class="method-heading">
          <a href="#M000043" class="method-signature">
          <span class="method-name">cp</span><span class="method-args">(source, target, options={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Copy source to target. Accepts a hash of command line options.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000043-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000043-source">
<pre>
    <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 91</span>
91:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cp</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>, <span class="ruby-identifier">options</span>={})
92:         <span class="ruby-identifier">execute</span> <span class="ruby-value str">'cp'</span>, <span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>, <span class="ruby-identifier">options</span>
93:         <span class="ruby-identifier">chain_proxy</span>
94:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000044" class="method-detail">
        <a name="M000044"></a>

        <div class="method-heading">
          <a href="#M000044" class="method-signature">
          <span class="method-name">cp_f</span><span class="method-args">(source, target)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Copy source to target, with -f.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000044-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000044-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 103</span>
103:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cp_f</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>)
104:         <span class="ruby-identifier">cp</span> <span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>, <span class="ruby-value str">'-f'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
105:         <span class="ruby-identifier">chain_proxy</span>
106:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000045" class="method-detail">
        <a name="M000045"></a>

        <div class="method-heading">
          <a href="#M000045" class="method-signature">
          <span class="method-name">cp_r</span><span class="method-args">(source, target)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Copy source to target, with -r.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000045-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000045-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 115</span>
115:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cp_r</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>)
116:         <span class="ruby-identifier">cp</span> <span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>, <span class="ruby-value str">'-r'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
117:         <span class="ruby-identifier">chain_proxy</span>
118:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000046" class="method-detail">
        <a name="M000046"></a>

        <div class="method-heading">
          <a href="#M000046" class="method-signature">
          <span class="method-name">cp_rf</span><span class="method-args">(source, target)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Copy source to target, with -rf.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000046-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000046-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 127</span>
127:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cp_rf</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>)
128:         <span class="ruby-identifier">cp</span> <span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>, <span class="ruby-value str">'-rf'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
129:         <span class="ruby-identifier">chain_proxy</span>
130:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000047" class="method-detail">
        <a name="M000047"></a>

        <div class="method-heading">
          <a href="#M000047" class="method-signature">
          <span class="method-name">date</span><span class="method-args">(format=nil, options={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the current system time. A format string may be provided, as well
as a hash of command line options.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000047-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000047-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 140</span>
140:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">date</span>(<span class="ruby-identifier">format</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span>={})
141:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">format</span>
142:           <span class="ruby-identifier">format</span> = <span class="ruby-node">&quot;+#{quote(format)}&quot;</span>
143:         <span class="ruby-keyword kw">end</span>
144:         
145:         <span class="ruby-identifier">execute</span> <span class="ruby-value str">&quot;date&quot;</span>, <span class="ruby-identifier">format</span>, <span class="ruby-identifier">options</span>
146:         <span class="ruby-identifier">chain_proxy</span>
147:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000048" class="method-detail">
        <a name="M000048"></a>

        <div class="method-heading">
          <a href="#M000048" class="method-signature">
          <span class="method-name">directory?</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000048-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000048-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 155</span>
155:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">path</span>)
156:         <span class="ruby-comment cmt">#  [ -d &quot;&lt;%= path %&gt;&quot; ]</span>
157:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;[ -d \&quot;&quot;</span>; <span class="ruby-identifier">write</span>(( <span class="ruby-identifier">path</span> ).<span class="ruby-identifier">to_s</span>); <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;\&quot; ]&quot;</span>
158:         <span class="ruby-identifier">chain_proxy</span>
159:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000049" class="method-detail">
        <a name="M000049"></a>

        <div class="method-heading">
          <a href="#M000049" class="method-signature">
          <span class="method-name">echo</span><span class="method-args">(*args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Echo the args.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000049-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000049-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 168</span>
168:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">echo</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
169:         <span class="ruby-identifier">execute</span> <span class="ruby-value str">'echo'</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>
170:         <span class="ruby-identifier">chain_proxy</span>
171:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000050" class="method-detail">
        <a name="M000050"></a>

        <div class="method-heading">
          <a href="#M000050" class="method-signature">
          <span class="method-name">exists?</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000050-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000050-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 179</span>
179:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">path</span>)
180:         <span class="ruby-comment cmt">#  [ -e &quot;&lt;%= path %&gt;&quot; ]</span>
181:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;[ -e \&quot;&quot;</span>; <span class="ruby-identifier">write</span>(( <span class="ruby-identifier">path</span> ).<span class="ruby-identifier">to_s</span>); <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;\&quot; ]&quot;</span>
182:         <span class="ruby-identifier">chain_proxy</span>
183:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000051" class="method-detail">
        <a name="M000051"></a>

        <div class="method-heading">
          <a href="#M000051" class="method-signature">
          <span class="method-name">file?</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000051-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000051-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 191</span>
191:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">file?</span>(<span class="ruby-identifier">path</span>)
192:         <span class="ruby-comment cmt">#  [ -f &quot;&lt;%= path %&gt;&quot; ]</span>
193:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;[ -f \&quot;&quot;</span>; <span class="ruby-identifier">write</span>(( <span class="ruby-identifier">path</span> ).<span class="ruby-identifier">to_s</span>); <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;\&quot; ]&quot;</span>
194:         <span class="ruby-identifier">chain_proxy</span>
195:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000052" class="method-detail">
        <a name="M000052"></a>

        <div class="method-heading">
          <a href="#M000052" class="method-signature">
          <span class="method-name">gsub</span><span class="method-args">(pattern, replacement, *args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets up a <a href="Unix.html#M000052">gsub</a> using <a
href="Unix.html#M000063">sed</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000052-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000052-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 204</span>
204:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gsub</span>(<span class="ruby-identifier">pattern</span>, <span class="ruby-identifier">replacement</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
205:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Hash</span>)
206:           <span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> {}
207:         <span class="ruby-keyword kw">end</span>
208:         <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>[<span class="ruby-identifier">:e</span>] = <span class="ruby-node">&quot;s/#{pattern}/#{replacement}/g&quot;</span>
209:         <span class="ruby-identifier">sed</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
210:         <span class="ruby-identifier">chain_proxy</span>
211:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000037" class="method-detail">
        <a name="M000037"></a>

        <div class="method-heading">
          <a href="#M000037" class="method-signature">
          <span class="method-name">guess_target_name</span><span class="method-args">(source_name)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000037-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000037-source">
<pre>
    <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 9</span>
 9:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">guess_target_name</span>(<span class="ruby-identifier">source_name</span>)
10:         <span class="ruby-identifier">target_dir</span>  = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">target_name</span>)
11:         <span class="ruby-identifier">name</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">source_name</span>)
12:         
13:         <span class="ruby-identifier">_package_</span>.<span class="ruby-identifier">next_target_name</span>(<span class="ruby-identifier">target_dir</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'.'</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">:</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">target_dir</span>, <span class="ruby-identifier">name</span>))
14:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000053" class="method-detail">
        <a name="M000053"></a>

        <div class="method-heading">
          <a href="#M000053" class="method-signature">
          <span class="method-name">ln</span><span class="method-args">(source, target, options={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Link source to target. Accepts a hash of command line options.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000053-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000053-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 220</span>
220:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ln</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>, <span class="ruby-identifier">options</span>={})
221:         <span class="ruby-identifier">execute</span> <span class="ruby-value str">'ln'</span>, <span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>, <span class="ruby-identifier">options</span>
222:         <span class="ruby-identifier">chain_proxy</span>
223:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000054" class="method-detail">
        <a name="M000054"></a>

        <div class="method-heading">
          <a href="#M000054" class="method-signature">
          <span class="method-name">ln_s</span><span class="method-args">(source, target)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Copy source to target, with -s.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000054-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000054-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 232</span>
232:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ln_s</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>)
233:         <span class="ruby-identifier">ln</span> <span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>, <span class="ruby-value str">'-s'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
234:         <span class="ruby-identifier">chain_proxy</span>
235:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000055" class="method-detail">
        <a name="M000055"></a>

        <div class="method-heading">
          <a href="#M000055" class="method-signature">
          <span class="method-name">mkdir</span><span class="method-args">(path, options={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Make a directory. Accepts a hash of command line options.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000055-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000055-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 244</span>
244:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mkdir</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span>={})
245:         <span class="ruby-identifier">execute</span> <span class="ruby-value str">'mkdir'</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span>
246:         <span class="ruby-identifier">chain_proxy</span>
247:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000056" class="method-detail">
        <a name="M000056"></a>

        <div class="method-heading">
          <a href="#M000056" class="method-signature">
          <span class="method-name">mkdir_p</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Make a directory, and parent directories as needed.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000056-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000056-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 256</span>
256:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mkdir_p</span>(<span class="ruby-identifier">path</span>)
257:         <span class="ruby-identifier">mkdir</span> <span class="ruby-identifier">path</span>, <span class="ruby-value str">'-p'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
258:         <span class="ruby-identifier">chain_proxy</span>
259:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000057" class="method-detail">
        <a name="M000057"></a>

        <div class="method-heading">
          <a href="#M000057" class="method-signature">
          <span class="method-name">mv</span><span class="method-args">(source, target, options={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Move source to target. Accepts a hash of command line options.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000057-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000057-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 268</span>
268:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mv</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>, <span class="ruby-identifier">options</span>={})
269:         <span class="ruby-identifier">execute</span> <span class="ruby-value str">'mv'</span>, <span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>, <span class="ruby-identifier">options</span>
270:         <span class="ruby-identifier">chain_proxy</span>
271:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000058" class="method-detail">
        <a name="M000058"></a>

        <div class="method-heading">
          <a href="#M000058" class="method-signature">
          <span class="method-name">mv_f</span><span class="method-args">(source, target)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Move source to target, with -f.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000058-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000058-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 280</span>
280:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mv_f</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>)
281:         <span class="ruby-identifier">mv</span> <span class="ruby-identifier">source</span>, <span class="ruby-identifier">target</span>, <span class="ruby-value str">'-f'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
282:         <span class="ruby-identifier">chain_proxy</span>
283:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000059" class="method-detail">
        <a name="M000059"></a>

        <div class="method-heading">
          <a href="#M000059" class="method-signature">
          <span class="method-name">rm</span><span class="method-args">(path, options={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Unlink a file. Accepts a hash of command line options.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000059-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000059-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 292</span>
292:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rm</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span>={})
293:         <span class="ruby-identifier">execute</span> <span class="ruby-value str">'rm'</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span>
294:         <span class="ruby-identifier">chain_proxy</span>
295:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000060" class="method-detail">
        <a name="M000060"></a>

        <div class="method-heading">
          <a href="#M000060" class="method-signature">
          <span class="method-name">rm_r</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Unlink a file or directory, with -r.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000060-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000060-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 304</span>
304:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rm_r</span>(<span class="ruby-identifier">path</span>)
305:         <span class="ruby-identifier">rm</span> <span class="ruby-identifier">path</span>, <span class="ruby-value str">'-r'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
306:         <span class="ruby-identifier">chain_proxy</span>
307:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000061" class="method-detail">
        <a name="M000061"></a>

        <div class="method-heading">
          <a href="#M000061" class="method-signature">
          <span class="method-name">rm_rf</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Unlink a file or directory, with -rf.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000061-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000061-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 316</span>
316:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rm_rf</span>(<span class="ruby-identifier">path</span>)
317:         <span class="ruby-identifier">rm</span> <span class="ruby-identifier">path</span>, <span class="ruby-value str">'-rf'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>
318:         <span class="ruby-identifier">chain_proxy</span>
319:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000062" class="method-detail">
        <a name="M000062"></a>

        <div class="method-heading">
          <a href="#M000062" class="method-signature">
          <span class="method-name">section</span><span class="method-args">(comment=&quot;&quot;)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000062-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000062-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 327</span>
327:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">section</span>(<span class="ruby-identifier">comment</span>=<span class="ruby-value str">&quot;&quot;</span>)
328:         <span class="ruby-identifier">n</span> = (<span class="ruby-value">78</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">comment</span>.<span class="ruby-identifier">length</span>)<span class="ruby-operator">/</span><span class="ruby-value">2</span>
329:         <span class="ruby-identifier">str</span> = <span class="ruby-value str">&quot;-&quot;</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">n</span>
330:         <span class="ruby-comment cmt">#  #&lt;%= str %&gt;&lt;%= comment %&gt;&lt;%= str %&gt;&lt;%= &quot;-&quot; if comment.length % 2 == 1 %&gt;</span>
331:         <span class="ruby-comment cmt">#  </span>
332:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;#&quot;</span>; <span class="ruby-identifier">write</span>(( <span class="ruby-identifier">str</span> ).<span class="ruby-identifier">to_s</span>); <span class="ruby-identifier">write</span>(( <span class="ruby-identifier">comment</span> ).<span class="ruby-identifier">to_s</span>); <span class="ruby-identifier">write</span>(( <span class="ruby-identifier">str</span> ).<span class="ruby-identifier">to_s</span>); <span class="ruby-identifier">write</span>(( <span class="ruby-value str">&quot;-&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">comment</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">%</span> <span class="ruby-value">2</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> ).<span class="ruby-identifier">to_s</span>); <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;\n&quot;</span>
333:       
334:         <span class="ruby-identifier">chain_proxy</span>
335:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000063" class="method-detail">
        <a name="M000063"></a>

        <div class="method-heading">
          <a href="#M000063" class="method-signature">
          <span class="method-name">sed</span><span class="method-args">(*args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Execute <a href="Unix.html#M000063">sed</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000063-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000063-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 344</span>
344:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sed</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
345:         <span class="ruby-identifier">execute</span> <span class="ruby-value str">'sed'</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>
346:         <span class="ruby-identifier">chain_proxy</span>
347:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000064" class="method-detail">
        <a name="M000064"></a>

        <div class="method-heading">
          <a href="#M000064" class="method-signature">
          <span class="method-name">set</span><span class="method-args">(options) {|| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets the options to on (true) or off (false) as specified. If a block is
given then options will only be reset when the block completes.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000064-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000064-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 357</span>
357:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set</span>(<span class="ruby-identifier">options</span>)
358:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
359:           <span class="ruby-identifier">var</span> = <span class="ruby-identifier">_package_</span>.<span class="ruby-identifier">next_variable_name</span>(<span class="ruby-value str">'set'</span>)
360:           <span class="ruby-identifier">patterns</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;-e #{key}&quot;</span> }.<span class="ruby-identifier">sort</span>
361:           <span class="ruby-identifier">writeln</span> <span class="ruby-node">%{#{var}=$(set +o | grep #{patterns.join(' ')})}</span>
362:         <span class="ruby-keyword kw">end</span>
363:       
364:         <span class="ruby-keyword kw">super</span>
365:       
366:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
367:           <span class="ruby-keyword kw">yield</span>
368:           <span class="ruby-identifier">writeln</span> <span class="ruby-node">%{eval &quot;$#{var}&quot;}</span>
369:         <span class="ruby-keyword kw">end</span>
370:         <span class="ruby-identifier">chain_proxy</span>
371:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000065" class="method-detail">
        <a name="M000065"></a>

        <div class="method-heading">
          <a href="#M000065" class="method-signature">
          <span class="method-name">set_date</span><span class="method-args">(time=Time.now)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets the system time. Must be root for this to succeed.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000065-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000065-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 380</span>
380:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_date</span>(<span class="ruby-identifier">time</span>=<span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>) 
381:         <span class="ruby-comment cmt">#  date -u &lt;%= time.dup.utc.strftime(&quot;%m%d%H%M%Y.%S&quot;) %&gt;</span>
382:         <span class="ruby-comment cmt">#  &lt;% check_status %&gt;</span>
383:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;date -u &quot;</span>; <span class="ruby-identifier">write</span>(( <span class="ruby-identifier">time</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">utc</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-value str">&quot;%m%d%H%M%Y.%S&quot;</span>) ).<span class="ruby-identifier">to_s</span>); <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;\n&quot;</span>
384:         <span class="ruby-identifier">check_status</span> 
385:         <span class="ruby-identifier">chain_proxy</span>
386:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000066" class="method-detail">
        <a name="M000066"></a>

        <div class="method-heading">
          <a href="#M000066" class="method-signature">
          <span class="method-name">shebang</span><span class="method-args">(options={}) {|if block_given?| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000066-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000066-source">
<pre>
     <span class="ruby-comment cmt"># File lib/linebook/os/unix.rb, line 394</span>
394:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">shebang</span>(<span class="ruby-identifier">options</span>={})
395:         <span class="ruby-ivar">@shebang</span> = <span class="ruby-keyword kw">true</span>
396:         <span class="ruby-comment cmt">#  #!&lt;%= options[:program] || '/bin/sh' %&gt;</span>
397:         <span class="ruby-comment cmt">#  &lt;% section %&gt;</span>
398:         <span class="ruby-comment cmt">#  </span>
399:         <span class="ruby-comment cmt">#  usage=&quot;usage: %s: [-h]\n&quot;</span>
400:         <span class="ruby-comment cmt">#  while getopts &quot;h&quot; opt</span>
401:         <span class="ruby-comment cmt">#  do</span>
402:         <span class="ruby-comment cmt">#    case $opt in</span>
403:         <span class="ruby-comment cmt">#    h  )  printf &quot;$usage&quot; $0</span>
404:         <span class="ruby-comment cmt">#          printf &quot;       %s   %s\n&quot; &quot;-h&quot; &quot;prints this help&quot;</span>
405:         <span class="ruby-comment cmt">#          exit 0 ;;</span>
406:         <span class="ruby-comment cmt">#    \? )  printf &quot;$usage&quot; $0</span>
407:         <span class="ruby-comment cmt">#          exit 2 ;;</span>
408:         <span class="ruby-comment cmt">#    esac</span>
409:         <span class="ruby-comment cmt">#  done</span>
410:         <span class="ruby-comment cmt">#  shift $(($OPTIND - 1))</span>
411:         <span class="ruby-comment cmt">#  </span>
412:         <span class="ruby-comment cmt">#  &lt;% check_status_function %&gt;</span>
413:         <span class="ruby-comment cmt">#  &lt;% yield if block_given? %&gt;</span>
414:         <span class="ruby-comment cmt">#  </span>
415:         <span class="ruby-comment cmt">#  &lt;% if options[:info] %&gt;</span>
416:         <span class="ruby-comment cmt">#  echo &gt;&amp;2</span>
417:         <span class="ruby-comment cmt">#  echo &quot;###############################################################################&quot; &gt;&amp;2</span>
418:         <span class="ruby-comment cmt">#  echo &quot;# $(whoami)@$(hostname):$(pwd):$0&quot; &gt;&amp;2</span>
419:         <span class="ruby-comment cmt">#  </span>
420:         <span class="ruby-comment cmt">#  &lt;% end %&gt;</span>
421:         <span class="ruby-comment cmt">#  &lt;% section &quot; #{target_name} &quot; %&gt;</span>
422:         <span class="ruby-comment cmt">#  </span>
423:         <span class="ruby-comment cmt">#  </span>
424:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;#!&quot;</span>; <span class="ruby-identifier">write</span>(( <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:program</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">'/bin/sh'</span> ).<span class="ruby-identifier">to_s</span>); <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;\n&quot;</span>
425:         <span class="ruby-identifier">section</span> 
426:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;\n&quot;</span>
427:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;usage=\&quot;usage: %s: [-h]\\n\&quot;\n&quot;</span>
428:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;while getopts \&quot;h\&quot; opt\n&quot;</span>
429:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;do\n&quot;</span>
430:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;  case $opt in\n&quot;</span>
431:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;  h  )  printf \&quot;$usage\&quot; $0\n&quot;</span>
432:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;        printf \&quot;       %s   %s\\n\&quot; \&quot;-h\&quot; \&quot;prints this help\&quot;\n&quot;</span>
433:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;        exit 0 ;;\n&quot;</span>
434:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;  \\? )  printf \&quot;$usage\&quot; $0\n&quot;</span>
435:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;        exit 2 ;;\n&quot;</span>
436:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;  esac\n&quot;</span>
437:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;done\n&quot;</span>
438:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;shift $(($OPTIND - 1))\n&quot;</span>
439:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;\n&quot;</span>
440:         <span class="ruby-identifier">check_status_function</span> 
441:         <span class="ruby-keyword kw">yield</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span> 
442:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;\n&quot;</span>
443:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:info</span>] 
444:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;echo &gt;&amp;2\n&quot;</span>
445:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;echo \&quot;###############################################################################\&quot; &gt;&amp;2\n&quot;</span>
446:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;echo \&quot;# $(whoami)@$(hostname):$(pwd):$0\&quot; &gt;&amp;2\n&quot;</span>
447:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;\n&quot;</span>
448:         <span class="ruby-keyword kw">end</span> 
449:         <span class="ruby-identifier">section</span> <span class="ruby-node">&quot; #{target_name} &quot;</span> 
450:         <span class="ruby-identifier">write</span> <span class="ruby-value str">&quot;\n&quot;</span>
451:       
452:         <span class="ruby-identifier">chain_proxy</span>
453:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>