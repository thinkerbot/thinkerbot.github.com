<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: README</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>README</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>README
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sun Jul 24 20:39:46 -0600 2011</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h1><a href="../classes/Linecook.html">Linecook</a></h1>
<p>
A shell script generator.
</p>
<h2>Description</h2>
<p>
<a href="../classes/Linecook.html">Linecook</a> generates shell scripts
using an extensible set of ERB helpers. The shell scripts and associated
resources (files, subscripts, etc) make up packages that can be used, for
example, to provision servers.
</p>
<p>
<a href="../classes/Linecook.html">Linecook</a> provides a command line
tool to manage development servers, generate scripts, and run scripts on
servers. Helpers and recipes can be shared as gems; the canonical shell
helpers are available through <a
href="http://rubygems.org/gems/linebook/">Linebook</a>.
</p>
<p>
See the documentation for help to:
</p>
<ul>
<li><a href="HowTo/Setup%20Virtual%20Machines.html">Setup</a> and <a
href="HowTo/Control%20Virtual%20Machines.html">Control</a> Virtual Machines

</li>
<li><a href="HowTo/Generate%20Scripts.html">Generate Scripts</a>

</li>
<li><a href="HowTo/Run%20Scripts.html">Run Scripts</a>

</li>
</ul>
<h2>Usage</h2>
<p>
Generate a project.
</p>
<pre>
  % linecook init chalkboard
  % cd chalkboard
</pre>
<p>
Define default attributes.
</p>
<pre>
  [attributes/chalkboard.rb]
  attrs['chalkboard']['n'] = 3
  attrs['chalkboard']['color'] = 'white'
  attrs['chalkboard']['message'] = 'I will not manually configure my server'
</pre>
<p>
Define a helper.
</p>
<pre>
  [helpers/chalkboard/echo_in_color.erb]
  Echo a string in color.
  (color, str)
    color_codes = Hash[*%W{
      black       0;30   red         0;31
      white       1;37   green       0;32
      light_gray  0;37   blue        0;34
    }]
  --
  echo -e '\033[&lt;%= color_codes[color.to_s] %&gt;m&lt;%= str %&gt;\033[0m'
</pre>
<p>
Use both in a recipe.
</p>
<pre>
  [recipes/chalkboard.rb]
  attributes &quot;chalkboard&quot;
  helpers &quot;chalkboard&quot;

  attrs['chalkboard']['n'].times do
    echo_in_color attrs['chalkboard']['color'], attrs['chalkboard']['message']
  end
</pre>
<p>
Define a package to use the recipe; set non-default attributes as needed.
</p>
<pre>
  [packages/chalkboard.yml]
  chalkboard:
    n: 5
    color: blue
</pre>
<p>
Generate the package from the attributes, helpers, and recipe.
</p>
<pre>
  % linecook build
</pre>
<p>
Check the packages directory to see the resulting script.
</p>
<pre>
  % cat packages/chalkboard/run
  echo -e '\033[0;34mI will not manually configure my server\033[0m'
  echo -e '\033[0;34mI will not manually configure my server\033[0m'
  echo -e '\033[0;34mI will not manually configure my server\033[0m'
  echo -e '\033[0;34mI will not manually configure my server\033[0m'
  echo -e '\033[0;34mI will not manually configure my server\033[0m'
</pre>
<p>
Now run the package.
</p>
<pre>
  % linecook run
</pre>
<p>
The package can be run on any server accessible via ssh. See the generated
&#8216;config/ssh&#8217; file as well as the documentation for <a
href="HowTo/Run%20Scripts.html">Running Scripts on Servers</a>.
</p>
<h2>Composition</h2>
<p>
<a href="../classes/Linecook.html">Linecook</a> consists of the following.
</p>
<pre>
  = Components =
  attributes
  helpers
  |-----&gt; recipes -&gt; packages -a-&gt; (scripts) -b-&gt; (servers) &lt;-c- server setup
  files
  templates

  = Commands =
  ex: 'linecook build' on the command line

  a) env, helper, package, build        # build scripts
  b) run                                # run scripts
  c) start, stop, ssh, snapshot, reset  # server setup/control
</pre>
<p>
Everything to the left of &#8216;scripts&#8217; has to do with generating
scripts; everything to the right with running scripts on servers.
</p>
<h2>Installation</h2>
<p>
<a href="../classes/Linecook.html">Linecook</a> is available as a <a
href="http://rubygems.org/gems/linecook">gem</a>.
</p>
<pre>
  % gem install linecook
</pre>
<h2>Info</h2>
<table>
<tr><td valign="top">Developer:</td><td><a href="http://github.com/thinkerbot">Simon Chiang</a>

</td></tr>
<tr><td valign="top">License:</td><td><a href="License_txt.html">MIT-Style</a>

</td></tr>
</table>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>